<!DOCTYPE html><html lang="en"> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Form | HTMX Boilerplate</title><script src="/js/theme.js"></script><script src="/js/htmx-2.0.3.min.js"></script><script src="/js/htmx-response-targets.js"></script><script src="/js/bootstrap.bundle.min.js"></script><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/layout.css"><link rel="stylesheet" href="/css/style.css"></head><body hx-boost="true" hx-ext="response-targets"> <nav class="navbar fixed-top navbar-expand-sm bg-body-tertiary border-bottom"> <div class="container"> <a class="navbar-brand" href="/">ðŸ˜Ž</a> <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarLinks" aria-controls="navbarLinks" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> <div class="collapse navbar-collapse" id="navbarLinks"> <div class="navbar-nav ms-auto"> <a class="nav-link text-center" href="/query?show=zxc">Query</a> <a class="nav-link text-center" href="/get">Get</a> <a class="nav-link text-center" href="/form">Form</a> <fragment id="nav-user"></fragment> <script>(function(){const host = "";

  (() => {
    updateNavUser();

    fetch(`${host}/auth`)
      .then((response) => response.json())
      .then((userData) => {
        sessionStorage.setItem("user-data", JSON.stringify(userData));
        updateNavUser();
      });

    function updateNavUser() {
      const storedUserData = sessionStorage.getItem("user-data");
      if (!storedUserData) return;
      const userElement = document.getElementById("nav-user");
      const userData = JSON.parse(sessionStorage.getItem("user-data"));
      htmx.swap(userElement, navUserHTML(userData), {
        swapStyle: "outerHTML",
      });
    }
  })();
  function navUserHTML(user) {
    return user.access > 0
      ? `<div id="nav-user" class="dropdown my-auto mx-auto ms-sm-2 d-none d-sm-block">
    <button id="dropdown-user" class="material-icons notranslate btn btn-primary btn-sm rounded-5 p-1 dropdown-toggle" type="button"
        data-bs-toggle="dropdown" aria-expanded="false">
        person
    </button>
    <ul class="dropdown-menu dropdown-menu-end">
        <li><a class="dropdown-item disabled" href="#">${user.email}</a></li>
        <li><hr class="dropdown-divider"></li>
        <li><a class="dropdown-item" href="/auth/logout">Wyloguj</a></li>
    </ul>
</div>
<div class="d-sm-none">
    <a class="nav-link text-center disabled" href="#">${user.email}</a>
    <a class="nav-link text-center" href="/auth/logout">Wyloguj</a>
</div>
<style>
    #dropdown-user::after {
        content: none;
    }
</style>`
      : `<a id="nav-user" class="btn btn-primary btn-sm my-auto ms-sm-2" href="/auth/login">Zaloguj</a>`;
  }
})();</script> </div> </div> </div> </nav>  <main> <div class="container mt-3"> <h1>Form test page</h1> <form hx-post="/hx/form" hx-target="#form-response" hx-on-htmx-after-request="event.detail.successful ? this.reset() : alert('Data incorrect')"> <input class="form-control mb-1" type="text" name="name" placeholder="Name"> <input class="form-control mb-1" type="email" name="email" placeholder="Email"> <input class="form-control mb-1" type="password" name="password" placeholder="Password"> <input class="btn btn-primary" type="submit"> </form> </div> <p id="form-response"></p> </main>  <footer class="text-center bg-root p-3"> <a class="text-decoration-none" href="mailto:matmosci@gmail.com">matmosci</a>
&copy;
    2024
</footer> </body></html>